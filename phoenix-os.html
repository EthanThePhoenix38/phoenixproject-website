<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PhoenixOS - Complete Web Operating System</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;overflow:hidden;background:#000;user-select:none;height:100vh}

/* BOOT SCREEN */
#boot{position:fixed;inset:0;background:#000;color:#0f0;font-family:'Courier New',monospace;padding:2rem;font-size:13px;z-index:10000;display:flex;flex-direction:column;justify-content:center;opacity:1;transition:opacity .5s}
#boot.hide{opacity:0;pointer-events:none}
.boot-line{margin:3px 0;animation:fadeIn .2s}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

/* DESKTOP */
.desktop{position:fixed;inset:0;background:linear-gradient(135deg,#667eea,#764ba2);display:none;opacity:0;transition:opacity .5s}
.desktop.show{display:block;opacity:1}
.desktop-icons{position:absolute;top:2rem;left:2rem;display:grid;grid-template-columns:repeat(auto-fill,90px);gap:1.5rem;padding:1rem}
.icon{width:80px;text-align:center;cursor:pointer;transition:transform .3s;padding:0.5rem;border-radius:8px}
.icon:hover{transform:scale(1.05);background:rgba(255,255,255,.1)}
.icon-img{width:56px;height:56px;background:rgba(255,255,255,.2);backdrop-filter:blur(10px);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:28px;margin:0 auto 6px;border:2px solid rgba(255,255,255,.3);box-shadow:0 4px 16px rgba(0,0,0,.2)}
.icon-label{color:#fff;font-size:11px;font-weight:600;text-shadow:0 1px 3px rgba(0,0,0,.5)}

/* TASKBAR */
.taskbar{position:absolute;bottom:0;left:0;right:0;height:44px;background:rgba(0,0,0,.85);backdrop-filter:blur(15px);display:flex;align-items:center;padding:0 1rem;gap:0.5rem;border-top:1px solid rgba(255,255,255,.1);z-index:1000}
.taskbar-start{display:flex;align-items:center;gap:0.5rem}
.taskbar-btn{padding:0.4rem 0.8rem;background:rgba(255,255,255,.1);border:none;border-radius:6px;color:#fff;cursor:pointer;font-weight:600;font-size:12px;transition:all .2s;display:flex;align-items:center;gap:0.3rem}
.taskbar-btn:hover{background:rgba(255,255,255,.2);transform:translateY(-1px)}
.taskbar-btn.active{background:rgba(102,126,234,.4)}
.taskbar-clock{margin-left:auto;color:#fff;font-weight:600;font-size:13px;padding:0.4rem 0.8rem;background:rgba(255,255,255,.1);border-radius:6px}
.taskbar-lang{color:#fff;font-weight:600;font-size:12px;padding:0.4rem 0.8rem;background:rgba(255,255,255,.1);border-radius:6px;cursor:pointer;position:relative}
.taskbar-lang:hover{background:rgba(255,255,255,.2)}
.lang-menu{position:absolute;bottom:100%;right:0;background:rgba(20,20,30,.98);border:1px solid rgba(255,255,255,.2);border-radius:8px;padding:0.5rem 0;min-width:120px;box-shadow:0 10px 25px rgba(0,0,0,.5);z-index:10001;display:none;margin-bottom:0.5rem}
.lang-menu.show{display:block}
.lang-item{padding:0.6rem 1rem;cursor:pointer;font-size:12px;transition:background .2s;display:flex;align-items:center;gap:0.5rem}
.lang-item:hover{background:rgba(102,126,234,.4)}
.lang-item.active{background:rgba(102,126,234,.3);font-weight:bold}
.taskbar-power{background:rgba(220,38,38,.3);margin-left:0.5rem}
.taskbar-power:hover{background:rgba(220,38,38,.5)}

/* WINDOW */
.window{position:absolute;background:rgba(45,55,72,.98);backdrop-filter:blur(25px);border-radius:12px;box-shadow:0 25px 50px rgba(0,0,0,.5);border:1px solid rgba(255,255,255,.15);display:none;flex-direction:column;overflow:hidden;min-width:400px;min-height:300px;resize:both}
.window.show{display:flex}
.window.maximized{top:0!important;left:0!important;width:100%!important;height:calc(100vh - 44px)!important;border-radius:0;resize:none}
.window-header{padding:0.6rem 1rem;background:rgba(0,0,0,.4);border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:space-between;cursor:move;user-select:none}
.window-title{color:#fff;font-weight:600;font-size:13px;display:flex;align-items:center;gap:0.5rem}
.window-controls{display:flex;gap:0.4rem}
.window-btn{width:26px;height:26px;border-radius:50%;border:none;cursor:pointer;font-size:14px;line-height:1;transition:all .2s;color:#fff}
.window-btn:hover{transform:scale(1.1)}
.window-minimize{background:rgba(251,191,36,.8)}
.window-maximize{background:rgba(34,197,94,.8)}
.window-close{background:rgba(239,68,68,.8)}
.window-content{flex:1;overflow:auto;background:rgba(26,32,44,.95);color:#f7fafc;position:relative}

/* FILE EXPLORER */
.explorer{display:flex;height:100%}
.explorer-sidebar{width:200px;background:rgba(0,0,0,.3);border-right:1px solid rgba(255,255,255,.1);padding:1rem;overflow-y:auto}
.explorer-main{flex:1;display:flex;flex-direction:column}
.explorer-toolbar{padding:0.8rem;background:rgba(0,0,0,.2);border-bottom:1px solid rgba(255,255,255,.1);display:flex;gap:0.5rem}
.explorer-path{flex:1;background:rgba(0,0,0,.3);padding:0.5rem;border-radius:6px;font-size:12px;border:1px solid rgba(255,255,255,.1)}
.toolbar-btn{padding:0.4rem 0.8rem;background:rgba(102,126,234,.6);border:none;border-radius:6px;color:#fff;cursor:pointer;font-size:11px;font-weight:600;transition:all .2s}
.toolbar-btn:hover{background:rgba(102,126,234,.8)}
.explorer-content{flex:1;padding:1rem;overflow-y:auto;display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:1rem;align-content:start}
.file-item,.folder-item{text-align:center;cursor:pointer;padding:0.8rem;border-radius:8px;transition:all .2s;position:relative}
.file-item:hover,.folder-item:hover{background:rgba(255,255,255,.1)}
.file-item.selected,.folder-item.selected{background:rgba(102,126,234,.3)}
.file-icon,.folder-icon{font-size:40px;margin-bottom:0.3rem}
.file-name,.folder-name{font-size:11px;word-break:break-word}
.context-menu{position:absolute;background:rgba(20,20,30,.98);border:1px solid rgba(255,255,255,.2);border-radius:8px;padding:0.5rem 0;min-width:150px;box-shadow:0 10px 25px rgba(0,0,0,.5);z-index:10001;display:none}
.context-menu.show{display:block}
.context-item{padding:0.6rem 1rem;cursor:pointer;font-size:12px;transition:background .2s}
.context-item:hover{background:rgba(102,126,234,.4)}

/* TERMINAL */
.terminal{padding:1rem;font-family:'Courier New',monospace;font-size:13px;line-height:1.6;height:100%;overflow-y:auto;background:#000}
.terminal-line{margin:2px 0}
.terminal-prompt{color:#0f0}
.terminal-input{background:transparent;border:none;color:#0f0;font-family:inherit;font-size:inherit;outline:none;width:calc(100% - 30px);caret-color:#0f0}
.terminal-error{color:#ff4444}
.terminal-success{color:#44ff44}

/* BROWSER */
.browser{display:flex;flex-direction:column;height:100%;background:rgba(26,32,44,.95)}
.browser-bar{display:flex;gap:0.5rem;padding:0.8rem;background:rgba(0,0,0,.3);border-bottom:1px solid rgba(255,255,255,.1)}
.browser-btn{padding:0.4rem 0.8rem;background:rgba(102,126,234,.6);border:none;border-radius:6px;color:#fff;cursor:pointer;font-size:11px;font-weight:600}
.browser-btn:hover{background:rgba(102,126,234,.8)}
.browser-url{flex:1;background:rgba(26,32,44,.6);border:1px solid rgba(255,255,255,.2);border-radius:6px;padding:0.5rem;color:#f7fafc;font-size:12px}
.browser-frame{flex:1;border:none;background:#fff}

/* TEXT EDITOR */
.editor{display:flex;flex-direction:column;height:100%}
.editor-toolbar{padding:0.8rem;background:rgba(0,0,0,.2);border-bottom:1px solid rgba(255,255,255,.1);display:flex;gap:0.5rem}
.editor-content{flex:1;padding:1rem;font-family:'Courier New',monospace;font-size:13px;background:rgba(26,32,44,.5);color:#f7fafc;border:none;outline:none;resize:none}

/* GAMES */
.games-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:1rem;padding:1.5rem}
.game-card{background:rgba(255,255,255,.1);padding:1.5rem;border-radius:12px;text-align:center;cursor:pointer;transition:all .3s;border:1px solid rgba(255,255,255,.2)}
.game-card:hover{background:rgba(255,255,255,.2);transform:translateY(-4px);box-shadow:0 8px 24px rgba(102,126,234,.4)}
.game-icon{font-size:50px;margin-bottom:0.5rem}
.game-name{font-weight:600;font-size:13px}
.game-canvas{width:100%;max-width:500px;height:500px;background:#000;border-radius:8px;margin:1rem auto;display:block;border:2px solid rgba(255,255,255,.3)}
.game-info{text-align:center;margin:1rem;font-size:15px;font-weight:600}
.game-controls{display:flex;gap:1rem;justify-content:center;margin:1rem;flex-wrap:wrap}
.game-btn{padding:0.75rem 1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:8px;color:#fff;font-weight:600;cursor:pointer;transition:all .3s}
.game-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(102,126,234,.4)}

/* HELP SYSTEM */
.help-content{padding:1.5rem;overflow-y:auto;line-height:1.8}
.help-section{margin:2rem 0}
.help-section h3{color:var(--primary);font-size:1.3rem;margin-bottom:1rem;padding-bottom:0.5rem;border-bottom:2px solid rgba(102,126,234,.3)}
.help-section h4{color:var(--secondary);font-size:1.1rem;margin:1rem 0 0.5rem}
.help-list{list-style:none;padding-left:0}
.help-list li{padding:0.5rem 0;padding-left:1.5rem;position:relative}
.help-list li::before{content:'‚ñ∏';position:absolute;left:0;color:var(--primary);font-weight:bold}
.help-kbd{display:inline-block;padding:0.2rem 0.6rem;background:rgba(102,126,234,.2);border:1px solid rgba(102,126,234,.4);border-radius:4px;font-family:'Courier New',monospace;font-size:0.9em;font-weight:bold}
.help-tip{background:rgba(102,126,234,.1);padding:1rem;border-left:3px solid var(--primary);border-radius:4px;margin:1rem 0;font-size:0.95em}
.help-search{width:100%;padding:0.8rem;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.2);border-radius:6px;color:#f7fafc;font-size:14px;margin-bottom:1rem}
.help-search:focus{outline:none;border-color:var(--primary)}
.tooltip{position:absolute;background:rgba(20,20,30,.95);color:#f7fafc;padding:0.5rem 1rem;border-radius:6px;font-size:11px;white-space:nowrap;z-index:10002;pointer-events:none;opacity:0;transition:opacity .2s}
.tooltip.show{opacity:1}
.help-btn-taskbar{background:rgba(102,126,234,.3);margin-right:0.5rem}
.help-btn-taskbar:hover{background:rgba(102,126,234,.5)}

/* RESPONSIVE */
@media(max-width:768px){
.desktop-icons{grid-template-columns:repeat(auto-fill,70px);gap:1rem}
.icon{width:60px}
.icon-img{width:44px;height:44px;font-size:22px}
.window{min-width:95%;min-height:70vh}
.explorer-sidebar{width:150px}
}
</style>
</head>
<body>

<!-- BOOT SCREEN -->
<div id="boot"></div>

<!-- DESKTOP -->
<div class="desktop" id="desktop">
<!-- Desktop Icons -->
<div class="desktop-icons" id="desktopIcons"></div>

<!-- Taskbar -->
<div class="taskbar">
<div class="taskbar-start">
<button class="taskbar-btn" onclick="showStartMenu()" id="startBtn">üî• PhoenixOS</button>
<div id="taskbarApps"></div>
</div>
<div class="taskbar-lang" id="langSelector" onclick="toggleLangMenu()">
<span id="currentLangFlag">üá¨üáß</span> <span id="currentLangCode">EN</span>
<div class="lang-menu" id="langMenu">
<div class="lang-item active" onclick="setLanguage('en')">üá¨üáß English</div>
<div class="lang-item" onclick="setLanguage('fr')">üá´üá∑ Fran√ßais</div>
<div class="lang-item" onclick="setLanguage('it')">üáÆüáπ Italiano</div>
<div class="lang-item" onclick="setLanguage('es')">üá™üá∏ Espa√±ol</div>
<div class="lang-item" onclick="setLanguage('zh')">üá®üá≥ ‰∏≠Êñá</div>
</div>
</div>
<button class="taskbar-btn help-btn-taskbar" onclick="openWindow('help')" id="helpBtn" title="Help (F1)">‚ùì</button>
<div class="taskbar-clock" id="clock">00:00</div>
<button class="taskbar-btn taskbar-power" onclick="shutdown()" id="powerBtn">‚èª</button>
</div>
</div>

<!-- WINDOWS -->
<!-- File Explorer Window -->
<div class="window" id="win-explorer" style="top:10%;left:10%;width:800px;height:600px">
<div class="window-header" onmousedown="startDrag(event,'win-explorer')">
<div class="window-title" id="explorerTitle">üìÅ File Explorer</div>
<div class="window-controls">
<button class="window-btn window-minimize" onclick="minimizeWindow('win-explorer')">‚àí</button>
<button class="window-btn window-maximize" onclick="toggleMaximize('win-explorer')">‚ñ°</button>
<button class="window-btn window-close" onclick="closeWindow('win-explorer')">√ó</button>
</div>
</div>
<div class="window-content">
<div class="explorer">
<div class="explorer-sidebar" id="explorerSidebar"></div>
<div class="explorer-main">
<div class="explorer-toolbar">
<button class="toolbar-btn" onclick="navigateBack()">‚Üê</button>
<button class="toolbar-btn" onclick="navigateForward()">‚Üí</button>
<div class="explorer-path" id="currentPath">/home</div>
<button class="toolbar-btn" onclick="showCreateMenu()" id="newBtn">+ New</button>
</div>
<div class="explorer-content" id="explorerContent" oncontextmenu="return false"></div>
</div>
</div>
</div>
</div>

<!-- Terminal Window -->
<div class="window" id="win-terminal" style="top:15%;left:15%;width:700px;height:500px">
<div class="window-header" onmousedown="startDrag(event,'win-terminal')">
<div class="window-title" id="terminalTitle">‚å®Ô∏è Terminal</div>
<div class="window-controls">
<button class="window-btn window-minimize" onclick="minimizeWindow('win-terminal')">‚àí</button>
<button class="window-btn window-maximize" onclick="toggleMaximize('win-terminal')">‚ñ°</button>
<button class="window-btn window-close" onclick="closeWindow('win-terminal')">√ó</button>
</div>
</div>
<div class="window-content">
<div class="terminal" id="terminal"></div>
</div>
</div>

<!-- Browser Window -->
<div class="window" id="win-browser" style="top:8%;left:20%;width:900px;height:650px">
<div class="window-header" onmousedown="startDrag(event,'win-browser')">
<div class="window-title" id="browserTitle">üåê Browser</div>
<div class="window-controls">
<button class="window-btn window-minimize" onclick="minimizeWindow('win-browser')">‚àí</button>
<button class="window-btn window-maximize" onclick="toggleMaximize('win-browser')">‚ñ°</button>
<button class="window-btn window-close" onclick="closeWindow('win-browser')">√ó</button>
</div>
</div>
<div class="window-content">
<div class="browser">
<div class="browser-bar">
<button class="browser-btn" onclick="browserBack()">‚Üê</button>
<button class="browser-btn" onclick="browserForward()">‚Üí</button>
<button class="browser-btn" onclick="browserRefresh()">‚ü≥</button>
<input type="text" class="browser-url" id="browserUrl" placeholder="Enter URL..." onkeypress="if(event.key==='Enter')browserGo()">
<button class="browser-btn" onclick="browserGo()">Go</button>
</div>
<iframe class="browser-frame" id="browserFrame" sandbox="allow-scripts allow-same-origin allow-forms allow-popups"></iframe>
</div>
</div>
</div>

<!-- Games Window -->
<div class="window" id="win-games" style="top:12%;left:25%;width:600px;height:500px">
<div class="window-header" onmousedown="startDrag(event,'win-games')">
<div class="window-title" id="gamesTitle">üéÆ Games</div>
<div class="window-controls">
<button class="window-btn window-minimize" onclick="minimizeWindow('win-games')">‚àí</button>
<button class="window-btn window-maximize" onclick="toggleMaximize('win-games')">‚ñ°</button>
<button class="window-btn window-close" onclick="closeWindow('win-games')">√ó</button>
</div>
</div>
<div class="window-content" id="gamesContent"></div>
</div>

<!-- Editor Window -->
<div class="window" id="win-editor" style="top:10%;left:18%;width:750px;height:550px">
<div class="window-header" onmousedown="startDrag(event,'win-editor')">
<div class="window-title" id="editorTitle">üìù Text Editor</div>
<div class="window-controls">
<button class="window-btn window-minimize" onclick="minimizeWindow('win-editor')">‚àí</button>
<button class="window-btn window-maximize" onclick="toggleMaximize('win-editor')">‚ñ°</button>
<button class="window-btn window-close" onclick="closeWindow('win-editor')">√ó</button>
</div>
</div>
<div class="window-content">
<div class="editor">
<div class="editor-toolbar">
<button class="toolbar-btn" onclick="saveFile()" id="saveBtn">üíæ Save</button>
<button class="toolbar-btn" onclick="openFileInEditor()" id="openBtn">üìÇ Open</button>
<button class="toolbar-btn" onclick="newFile()" id="newFileBtn">üìÑ New</button>
<span style="margin-left:auto;color:#fff;font-size:12px" id="editorFilename">untitled.txt</span>
</div>
<textarea class="editor-content" id="editorContent" placeholder="Start typing..."></textarea>
</div>
</div>
</div>

<!-- Help Window -->
<div class="window" id="win-help" style="top:5%;left:12%;width:850px;height:700px">
<div class="window-header" onmousedown="startDrag(event,'win-help')">
<div class="window-title" id="helpTitle">‚ùì Help</div>
<div class="window-controls">
<button class="window-btn window-minimize" onclick="minimizeWindow('win-help')">‚àí</button>
<button class="window-btn window-maximize" onclick="toggleMaximize('win-help')">‚ñ°</button>
<button class="window-btn window-close" onclick="closeWindow('win-help')">√ó</button>
</div>
</div>
<div class="window-content">
<div class="help-content" id="helpContent"></div>
</div>
</div>

<div class="context-menu" id="contextMenu"></div>
<div class="tooltip" id="tooltip"></div>

<script>
// ===== INTERNATIONALIZATION =====
const translations = {
  en: {
    boot: {
      booting: 'PhoenixOS v3.0 - Booting...',
      kernel: '[ OK ] Initializing kernel...',
      filesystem: '[ OK ] Loading file system...',
      drivers: '[ OK ] Starting device drivers...',
      disks: '[ OK ] Mounting virtual disks...',
      network: '[ OK ] Starting network services...',
      desktop: '[ OK ] Loading desktop environment...',
      ready: 'System ready. Welcome to PhoenixOS!',
      shutdown: 'Shutting down system...',
      stopping: '[ OK ] Stopping services...',
      unmounting: '[ OK ] Unmounting file systems...',
      goodbye: 'System halted. Goodbye!'
    },
    desktop: {
      explorer: 'Explorer',
      terminal: 'Terminal',
      browser: 'Browser',
      games: 'Games',
      editor: 'Editor'
    },
    window: {
      fileExplorer: 'File Explorer',
      terminal: 'Terminal',
      browser: 'Browser',
      games: 'Games Center',
      editor: 'Text Editor'
    },
    explorer: {
      favorites: 'Favorites',
      home: 'Home',
      documents: 'Documents',
      downloads: 'Downloads',
      games: 'Games',
      new: '+ New',
      notFound: 'Folder not found',
      rename: 'Rename',
      delete: 'Delete',
      open: 'Open',
      newPrompt: 'Name of new file/folder:\n(Add / at the end for a folder)',
      exists: 'Error: Already exists',
      deleteConfirm: 'Delete',
      renamePrompt: 'New name:'
    },
    terminal: {
      version: 'PhoenixOS Terminal v3.0',
      help: 'Type \'help\' for available commands',
      helpMsg: 'Commands: ls, cd, pwd, mkdir, touch, rm, cat, clear, echo, help',
      notFound: 'Directory not found',
      usage: 'Usage:',
      created: 'Created',
      deleted: 'Deleted',
      cmdNotFound: 'Command not found:',
      fileNotFound: 'File not found',
      folderExists: 'Folder already exists',
      fileExists: 'File already exists'
    },
    browser: {
      urlPlaceholder: 'Enter URL...'
    },
    editor: {
      save: 'üíæ Save',
      open: 'üìÇ Open',
      new: 'üìÑ New',
      untitled: 'untitled.txt',
      startTyping: 'Start typing...',
      savePrompt: 'File name:',
      saved: 'File saved!',
      noFiles: 'No files in this folder',
      readError: 'Read error'
    },
    games: {
      snake: 'Snake',
      tictactoe: 'Tic-Tac-Toe',
      memory: 'Memory',
      pong: 'Pong',
      loading: 'Loading...',
      restart: 'üîÑ Restart',
      back: '‚¨ÖÔ∏è Back',
      snakeScore: 'Score:',
      snakeControls: '| Arrows to play',
      snakeGameOver: 'Game Over! Score:',
      tictactoePlayer: 'Player',
      tictactoeDraw: 'Draw!',
      tictactoeWins: 'wins!',
      memoryInstructions: 'Find all pairs!',
      memoryWin: 'Congratulations! You won!',
      pongInstructions: 'First to 5 points!',
      pongAI: 'AI:',
      pongYou: 'You:',
      pongWin: '- You win!',
      pongLose: '- AI wins!'
    },
    help: {
      title: 'PhoenixOS Help Center',
      search: 'Search help...',
      quickStart: 'Quick Start',
      quickStartDesc: 'PhoenixOS is a complete web-based operating system. Here\'s how to get started:',
      features: 'Main Features',
      explorer: 'File Explorer',
      explorerDesc: 'Manage your files and folders with a graphical interface.',
      explorerFeatures: ['Create files and folders', 'Rename and delete items', 'Navigate through directories', 'Right-click for context menu'],
      terminal: 'Terminal',
      terminalDesc: 'Use Unix commands to interact with the file system.',
      terminalCommands: ['ls - list files', 'cd - change directory', 'mkdir - create folder', 'touch - create file', 'rm - delete', 'cat - read file', 'pwd - current path', 'clear - clear screen'],
      browser: 'Browser',
      browserDesc: 'Secure iframe-based browser to access web pages.',
      browserFeatures: ['Navigate to any URL', 'Back/Forward navigation', 'Refresh page', 'Sandboxed for security'],
      games: 'Games',
      gamesDesc: 'Four integrated games to play:',
      gamesList: ['Snake - Classic snake game', 'Tic-Tac-Toe - Two player strategy', 'Memory - Match pairs', 'Pong - AI opponent'],
      editor: 'Text Editor',
      editorDesc: 'Create and edit text files.',
      editorFeatures: ['Save files to the file system', 'Open existing files', 'Simple and lightweight'],
      shortcuts: 'Keyboard Shortcuts',
      shortcutsList: ['F1 - Open Help', 'Arrows - Navigate (in games)', 'Enter - Execute (in terminal)'],
      language: 'Language Selection',
      languageDesc: 'PhoenixOS supports 5 languages: English, Fran√ßais, Italiano, Espa√±ol, ‰∏≠Êñá. Click the language selector in the taskbar to switch.',
      windowManagement: 'Window Management',
      windowDesc: 'Drag windows to move, use buttons to minimize/maximize/close.',
      tips: 'Tips',
      tip1: 'All data is stored locally in your browser',
      tip2: 'Press F1 anytime to open this help',
      tip3: 'Right-click files for more options',
      tip4: 'File system persists across sessions'
    }
  },
  fr: {
    boot: {
      booting: 'PhoenixOS v3.0 - D√©marrage...',
      kernel: '[ OK ] Initialisation du noyau...',
      filesystem: '[ OK ] Chargement du syst√®me de fichiers...',
      drivers: '[ OK ] D√©marrage des pilotes...',
      disks: '[ OK ] Montage des disques virtuels...',
      network: '[ OK ] D√©marrage des services r√©seau...',
      desktop: '[ OK ] Chargement de l\'environnement...',
      ready: 'Syst√®me pr√™t. Bienvenue sur PhoenixOS!',
      shutdown: 'Arr√™t du syst√®me...',
      stopping: '[ OK ] Arr√™t des services...',
      unmounting: '[ OK ] D√©montage des syst√®mes de fichiers...',
      goodbye: 'Syst√®me arr√™t√©. Au revoir!'
    },
    desktop: {
      explorer: 'Explorateur',
      terminal: 'Terminal',
      browser: 'Navigateur',
      games: 'Jeux',
      editor: '√âditeur'
    },
    window: {
      fileExplorer: 'Explorateur de Fichiers',
      terminal: 'Terminal',
      browser: 'Navigateur Phoenix',
      games: 'Centre de Jeux',
      editor: '√âditeur de Texte'
    },
    explorer: {
      favorites: 'Favoris',
      home: 'Accueil',
      documents: 'Documents',
      downloads: 'T√©l√©chargements',
      games: 'Jeux',
      new: '+ Nouveau',
      notFound: 'Dossier introuvable',
      rename: 'Renommer',
      delete: 'Supprimer',
      open: 'Ouvrir',
      newPrompt: 'Nom du nouveau fichier/dossier:\n(Ajoutez / √† la fin pour un dossier)',
      exists: 'Erreur: D√©j√† existant',
      deleteConfirm: 'Supprimer',
      renamePrompt: 'Nouveau nom:'
    },
    terminal: {
      version: 'Terminal PhoenixOS v3.0',
      help: 'Tapez \'help\' pour les commandes disponibles',
      helpMsg: 'Commandes: ls, cd, pwd, mkdir, touch, rm, cat, clear, echo, help',
      notFound: 'R√©pertoire introuvable',
      usage: 'Usage:',
      created: 'Cr√©√©',
      deleted: 'Supprim√©',
      cmdNotFound: 'Commande introuvable:',
      fileNotFound: 'Fichier introuvable',
      folderExists: 'Dossier d√©j√† existant',
      fileExists: 'Fichier d√©j√† existant'
    },
    browser: {
      urlPlaceholder: 'Entrez une URL...'
    },
    editor: {
      save: 'üíæ Sauvegarder',
      open: 'üìÇ Ouvrir',
      new: 'üìÑ Nouveau',
      untitled: 'sans_titre.txt',
      startTyping: 'Commencez √† √©crire...',
      savePrompt: 'Nom du fichier:',
      saved: 'Fichier sauvegard√©!',
      noFiles: 'Aucun fichier dans ce dossier',
      readError: 'Erreur de lecture'
    },
    games: {
      snake: 'Snake',
      tictactoe: 'Morpion',
      memory: 'Memory',
      pong: 'Pong',
      loading: 'Chargement...',
      restart: 'üîÑ Rejouer',
      back: '‚¨ÖÔ∏è Retour',
      snakeScore: 'Score:',
      snakeControls: '| Fl√®ches pour jouer',
      snakeGameOver: 'Game Over! Score:',
      tictactoePlayer: 'Joueur',
      tictactoeDraw: 'Match nul!',
      tictactoeWins: 'gagne!',
      memoryInstructions: 'Trouvez toutes les paires!',
      memoryWin: 'Bravo! Vous avez gagn√©!',
      pongInstructions: 'Premier √† 5 points!',
      pongAI: 'IA:',
      pongYou: 'Vous:',
      pongWin: '- Vous gagnez!',
      pongLose: '- IA gagne!'
    },
    help: {
      title: 'Centre d\'Aide PhoenixOS',
      search: 'Rechercher dans l\'aide...',
      quickStart: 'D√©marrage Rapide',
      quickStartDesc: 'PhoenixOS est un syst√®me d\'exploitation web complet. Voici comment commencer :',
      features: 'Fonctionnalit√©s Principales',
      explorer: 'Explorateur de Fichiers',
      explorerDesc: 'G√©rez vos fichiers et dossiers avec une interface graphique.',
      explorerFeatures: ['Cr√©er fichiers et dossiers', 'Renommer et supprimer', 'Naviguer dans les r√©pertoires', 'Clic droit pour menu contextuel'],
      terminal: 'Terminal',
      terminalDesc: 'Utilisez des commandes Unix pour interagir avec le syst√®me de fichiers.',
      terminalCommands: ['ls - lister fichiers', 'cd - changer r√©pertoire', 'mkdir - cr√©er dossier', 'touch - cr√©er fichier', 'rm - supprimer', 'cat - lire fichier', 'pwd - chemin actuel', 'clear - effacer √©cran'],
      browser: 'Navigateur',
      browserDesc: 'Navigateur s√©curis√© bas√© sur iframe pour acc√©der aux pages web.',
      browserFeatures: ['Naviguer vers n\'importe quelle URL', 'Navigation avant/arri√®re', 'Actualiser la page', 'S√©curis√© par sandbox'],
      games: 'Jeux',
      gamesDesc: 'Quatre jeux int√©gr√©s :',
      gamesList: ['Snake - Jeu classique', 'Morpion - Strat√©gie deux joueurs', 'Memory - Trouver les paires', 'Pong - Adversaire IA'],
      editor: '√âditeur de Texte',
      editorDesc: 'Cr√©er et modifier des fichiers texte.',
      editorFeatures: ['Sauvegarder dans le syst√®me de fichiers', 'Ouvrir fichiers existants', 'Simple et l√©ger'],
      shortcuts: 'Raccourcis Clavier',
      shortcutsList: ['F1 - Ouvrir l\'aide', 'Fl√®ches - Naviguer (jeux)', 'Entr√©e - Ex√©cuter (terminal)'],
      language: 'S√©lection de Langue',
      languageDesc: 'PhoenixOS supporte 5 langues : English, Fran√ßais, Italiano, Espa√±ol, ‰∏≠Êñá. Cliquez sur le s√©lecteur dans la barre des t√¢ches.',
      windowManagement: 'Gestion des Fen√™tres',
      windowDesc: 'Glissez les fen√™tres pour les d√©placer, utilisez les boutons pour minimiser/maximiser/fermer.',
      tips: 'Astuces',
      tip1: 'Toutes les donn√©es sont stock√©es localement dans votre navigateur',
      tip2: 'Appuyez sur F1 √† tout moment pour ouvrir l\'aide',
      tip3: 'Clic droit sur les fichiers pour plus d\'options',
      tip4: 'Le syst√®me de fichiers persiste entre les sessions'
    }
  },
  it: {
    boot: {
      booting: 'PhoenixOS v3.0 - Avvio...',
      kernel: '[ OK ] Inizializzazione kernel...',
      filesystem: '[ OK ] Caricamento file system...',
      drivers: '[ OK ] Avvio driver...',
      disks: '[ OK ] Montaggio dischi virtuali...',
      network: '[ OK ] Avvio servizi di rete...',
      desktop: '[ OK ] Caricamento ambiente desktop...',
      ready: 'Sistema pronto. Benvenuto su PhoenixOS!',
      shutdown: 'Arresto del sistema...',
      stopping: '[ OK ] Arresto servizi...',
      unmounting: '[ OK ] Smontaggio file system...',
      goodbye: 'Sistema arrestato. Arrivederci!'
    },
    desktop: {
      explorer: 'Esplora',
      terminal: 'Terminale',
      browser: 'Browser',
      games: 'Giochi',
      editor: 'Editor'
    },
    window: {
      fileExplorer: 'Esplora File',
      terminal: 'Terminale',
      browser: 'Browser Phoenix',
      games: 'Centro Giochi',
      editor: 'Editor di Testo'
    },
    explorer: {
      favorites: 'Preferiti',
      home: 'Home',
      documents: 'Documenti',
      downloads: 'Download',
      games: 'Giochi',
      new: '+ Nuovo',
      notFound: 'Cartella non trovata',
      rename: 'Rinomina',
      delete: 'Elimina',
      open: 'Apri',
      newPrompt: 'Nome del nuovo file/cartella:\n(Aggiungi / alla fine per una cartella)',
      exists: 'Errore: Gi√† esistente',
      deleteConfirm: 'Eliminare',
      renamePrompt: 'Nuovo nome:'
    },
    terminal: {
      version: 'Terminale PhoenixOS v3.0',
      help: 'Digita \'help\' per i comandi disponibili',
      helpMsg: 'Comandi: ls, cd, pwd, mkdir, touch, rm, cat, clear, echo, help',
      notFound: 'Directory non trovata',
      usage: 'Uso:',
      created: 'Creato',
      deleted: 'Eliminato',
      cmdNotFound: 'Comando non trovato:',
      fileNotFound: 'File non trovato',
      folderExists: 'Cartella gi√† esistente',
      fileExists: 'File gi√† esistente'
    },
    browser: {
      urlPlaceholder: 'Inserisci URL...'
    },
    editor: {
      save: 'üíæ Salva',
      open: 'üìÇ Apri',
      new: 'üìÑ Nuovo',
      untitled: 'senza_titolo.txt',
      startTyping: 'Inizia a scrivere...',
      savePrompt: 'Nome file:',
      saved: 'File salvato!',
      noFiles: 'Nessun file in questa cartella',
      readError: 'Errore di lettura'
    },
    games: {
      snake: 'Snake',
      tictactoe: 'Tris',
      memory: 'Memory',
      pong: 'Pong',
      loading: 'Caricamento...',
      restart: 'üîÑ Ricomincia',
      back: '‚¨ÖÔ∏è Indietro',
      snakeScore: 'Punteggio:',
      snakeControls: '| Frecce per giocare',
      snakeGameOver: 'Game Over! Punteggio:',
      tictactoePlayer: 'Giocatore',
      tictactoeDraw: 'Pareggio!',
      tictactoeWins: 'vince!',
      memoryInstructions: 'Trova tutte le coppie!',
      memoryWin: 'Congratulazioni! Hai vinto!',
      pongInstructions: 'Primo a 5 punti!',
      pongAI: 'IA:',
      pongYou: 'Tu:',
      pongWin: '- Hai vinto!',
      pongLose: '- IA vince!'
    },
    help: {
      title: 'Centro Aiuto PhoenixOS',
      search: 'Cerca aiuto...',
      quickStart: 'Avvio Rapido',
      quickStartDesc: 'PhoenixOS √® un sistema operativo web completo. Ecco come iniziare:',
      features: 'Funzionalit√† Principali',
      explorer: 'Esplora File',
      explorerDesc: 'Gestisci file e cartelle con interfaccia grafica.',
      explorerFeatures: ['Crea file e cartelle', 'Rinomina ed elimina', 'Naviga nelle directory', 'Clic destro per menu contestuale'],
      terminal: 'Terminale',
      terminalDesc: 'Usa comandi Unix per interagire con il file system.',
      terminalCommands: ['ls - elenca file', 'cd - cambia directory', 'mkdir - crea cartella', 'touch - crea file', 'rm - elimina', 'cat - leggi file', 'pwd - percorso corrente', 'clear - pulisci schermo'],
      browser: 'Browser',
      browserDesc: 'Browser sicuro basato su iframe per accedere alle pagine web.',
      browserFeatures: ['Naviga verso qualsiasi URL', 'Navigazione avanti/indietro', 'Aggiorna pagina', 'Protetto da sandbox'],
      games: 'Giochi',
      gamesDesc: 'Quattro giochi integrati:',
      gamesList: ['Snake - Gioco classico', 'Tris - Strategia due giocatori', 'Memory - Trova le coppie', 'Pong - Avversario IA'],
      editor: 'Editor di Testo',
      editorDesc: 'Crea e modifica file di testo.',
      editorFeatures: ['Salva nel file system', 'Apri file esistenti', 'Semplice e leggero'],
      shortcuts: 'Scorciatoie da Tastiera',
      shortcutsList: ['F1 - Apri aiuto', 'Frecce - Naviga (giochi)', 'Invio - Esegui (terminale)'],
      language: 'Selezione Lingua',
      languageDesc: 'PhoenixOS supporta 5 lingue: English, Fran√ßais, Italiano, Espa√±ol, ‰∏≠Êñá. Clicca sul selettore nella barra delle applicazioni.',
      windowManagement: 'Gestione Finestre',
      windowDesc: 'Trascina finestre per spostarle, usa pulsanti per minimizzare/massimizzare/chiudere.',
      tips: 'Suggerimenti',
      tip1: 'Tutti i dati sono archiviati localmente nel tuo browser',
      tip2: 'Premi F1 in qualsiasi momento per aprire l\'aiuto',
      tip3: 'Clic destro sui file per pi√π opzioni',
      tip4: 'Il file system persiste tra le sessioni'
    }
  },
  es: {
    boot: {
      booting: 'PhoenixOS v3.0 - Iniciando...',
      kernel: '[ OK ] Inicializando kernel...',
      filesystem: '[ OK ] Cargando sistema de archivos...',
      drivers: '[ OK ] Iniciando controladores...',
      disks: '[ OK ] Montando discos virtuales...',
      network: '[ OK ] Iniciando servicios de red...',
      desktop: '[ OK ] Cargando entorno de escritorio...',
      ready: 'Sistema listo. ¬°Bienvenido a PhoenixOS!',
      shutdown: 'Apagando sistema...',
      stopping: '[ OK ] Deteniendo servicios...',
      unmounting: '[ OK ] Desmontando sistemas de archivos...',
      goodbye: 'Sistema detenido. ¬°Adi√≥s!'
    },
    desktop: {
      explorer: 'Explorador',
      terminal: 'Terminal',
      browser: 'Navegador',
      games: 'Juegos',
      editor: 'Editor'
    },
    window: {
      fileExplorer: 'Explorador de Archivos',
      terminal: 'Terminal',
      browser: 'Navegador Phoenix',
      games: 'Centro de Juegos',
      editor: 'Editor de Texto'
    },
    explorer: {
      favorites: 'Favoritos',
      home: 'Inicio',
      documents: 'Documentos',
      downloads: 'Descargas',
      games: 'Juegos',
      new: '+ Nuevo',
      notFound: 'Carpeta no encontrada',
      rename: 'Renombrar',
      delete: 'Eliminar',
      open: 'Abrir',
      newPrompt: 'Nombre del nuevo archivo/carpeta:\n(A√±ade / al final para una carpeta)',
      exists: 'Error: Ya existe',
      deleteConfirm: 'Eliminar',
      renamePrompt: 'Nuevo nombre:'
    },
    terminal: {
      version: 'Terminal PhoenixOS v3.0',
      help: 'Escribe \'help\' para comandos disponibles',
      helpMsg: 'Comandos: ls, cd, pwd, mkdir, touch, rm, cat, clear, echo, help',
      notFound: 'Directorio no encontrado',
      usage: 'Uso:',
      created: 'Creado',
      deleted: 'Eliminado',
      cmdNotFound: 'Comando no encontrado:',
      fileNotFound: 'Archivo no encontrado',
      folderExists: 'Carpeta ya existe',
      fileExists: 'Archivo ya existe'
    },
    browser: {
      urlPlaceholder: 'Ingresa URL...'
    },
    editor: {
      save: 'üíæ Guardar',
      open: 'üìÇ Abrir',
      new: 'üìÑ Nuevo',
      untitled: 'sin_t√≠tulo.txt',
      startTyping: 'Comienza a escribir...',
      savePrompt: 'Nombre del archivo:',
      saved: '¬°Archivo guardado!',
      noFiles: 'No hay archivos en esta carpeta',
      readError: 'Error de lectura'
    },
    games: {
      snake: 'Serpiente',
      tictactoe: 'Tres en Raya',
      memory: 'Memoria',
      pong: 'Pong',
      loading: 'Cargando...',
      restart: 'üîÑ Reiniciar',
      back: '‚¨ÖÔ∏è Volver',
      snakeScore: 'Puntuaci√≥n:',
      snakeControls: '| Flechas para jugar',
      snakeGameOver: '¬°Game Over! Puntuaci√≥n:',
      tictactoePlayer: 'Jugador',
      tictactoeDraw: '¬°Empate!',
      tictactoeWins: '¬°gana!',
      memoryInstructions: '¬°Encuentra todos los pares!',
      memoryWin: '¬°Felicidades! ¬°Ganaste!',
      pongInstructions: '¬°Primero a 5 puntos!',
      pongAI: 'IA:',
      pongYou: 'T√∫:',
      pongWin: '- ¬°Ganaste!',
      pongLose: '- ¬°IA gana!'
    },
    help: {
      title: 'Centro de Ayuda PhoenixOS',
      search: 'Buscar ayuda...',
      quickStart: 'Inicio R√°pido',
      quickStartDesc: 'PhoenixOS es un sistema operativo web completo. As√≠ es como empezar:',
      features: 'Funcionalidades Principales',
      explorer: 'Explorador de Archivos',
      explorerDesc: 'Gestiona archivos y carpetas con interfaz gr√°fica.',
      explorerFeatures: ['Crear archivos y carpetas', 'Renombrar y eliminar', 'Navegar por directorios', 'Clic derecho para men√∫ contextual'],
      terminal: 'Terminal',
      terminalDesc: 'Usa comandos Unix para interactuar con el sistema de archivos.',
      terminalCommands: ['ls - listar archivos', 'cd - cambiar directorio', 'mkdir - crear carpeta', 'touch - crear archivo', 'rm - eliminar', 'cat - leer archivo', 'pwd - ruta actual', 'clear - limpiar pantalla'],
      browser: 'Navegador',
      browserDesc: 'Navegador seguro basado en iframe para acceder a p√°ginas web.',
      browserFeatures: ['Navegar a cualquier URL', 'Navegaci√≥n atr√°s/adelante', 'Actualizar p√°gina', 'Protegido por sandbox'],
      games: 'Juegos',
      gamesDesc: 'Cuatro juegos integrados:',
      gamesList: ['Serpiente - Juego cl√°sico', 'Tres en Raya - Estrategia dos jugadores', 'Memoria - Encuentra parejas', 'Pong - Oponente IA'],
      editor: 'Editor de Texto',
      editorDesc: 'Crear y editar archivos de texto.',
      editorFeatures: ['Guardar en sistema de archivos', 'Abrir archivos existentes', 'Simple y ligero'],
      shortcuts: 'Atajos de Teclado',
      shortcutsList: ['F1 - Abrir ayuda', 'Flechas - Navegar (juegos)', 'Enter - Ejecutar (terminal)'],
      language: 'Selecci√≥n de Idioma',
      languageDesc: 'PhoenixOS soporta 5 idiomas: English, Fran√ßais, Italiano, Espa√±ol, ‰∏≠Êñá. Haz clic en el selector en la barra de tareas.',
      windowManagement: 'Gesti√≥n de Ventanas',
      windowDesc: 'Arrastra ventanas para moverlas, usa botones para minimizar/maximizar/cerrar.',
      tips: 'Consejos',
      tip1: 'Todos los datos se almacenan localmente en tu navegador',
      tip2: 'Presiona F1 en cualquier momento para abrir la ayuda',
      tip3: 'Clic derecho en archivos para m√°s opciones',
      tip4: 'El sistema de archivos persiste entre sesiones'
    }
  },
  zh: {
    boot: {
      booting: 'PhoenixOS v3.0 - ÂêØÂä®‰∏≠...',
      kernel: '[ Á°ÆÂÆö ] ÂàùÂßãÂåñÂÜÖÊ†∏...',
      filesystem: '[ Á°ÆÂÆö ] Âä†ËΩΩÊñá‰ª∂Á≥ªÁªü...',
      drivers: '[ Á°ÆÂÆö ] ÂêØÂä®È©±Âä®Á®ãÂ∫è...',
      disks: '[ Á°ÆÂÆö ] ÊåÇËΩΩËôöÊãüÁ£ÅÁõò...',
      network: '[ Á°ÆÂÆö ] ÂêØÂä®ÁΩëÁªúÊúçÂä°...',
      desktop: '[ Á°ÆÂÆö ] Âä†ËΩΩÊ°åÈù¢ÁéØÂ¢É...',
      ready: 'Á≥ªÁªüÂ∞±Áª™„ÄÇÊ¨¢Ëøé‰ΩøÁî®PhoenixOSÔºÅ',
      shutdown: 'Ê≠£Âú®ÂÖ≥Èó≠Á≥ªÁªü...',
      stopping: '[ Á°ÆÂÆö ] ÂÅúÊ≠¢ÊúçÂä°...',
      unmounting: '[ Á°ÆÂÆö ] Âç∏ËΩΩÊñá‰ª∂Á≥ªÁªü...',
      goodbye: 'Á≥ªÁªüÂ∑≤ÂÅúÊ≠¢„ÄÇÂÜçËßÅÔºÅ'
    },
    desktop: {
      explorer: 'Êñá‰ª∂ÁÆ°ÁêÜÂô®',
      terminal: 'ÁªàÁ´Ø',
      browser: 'ÊµèËßàÂô®',
      games: 'Ê∏∏Êàè',
      editor: 'ÁºñËæëÂô®'
    },
    window: {
      fileExplorer: 'Êñá‰ª∂ËµÑÊ∫êÁÆ°ÁêÜÂô®',
      terminal: 'ÁªàÁ´Ø',
      browser: 'PhoenixÊµèËßàÂô®',
      games: 'Ê∏∏Êàè‰∏≠ÂøÉ',
      editor: 'ÊñáÊú¨ÁºñËæëÂô®'
    },
    explorer: {
      favorites: 'Êî∂ËóèÂ§π',
      home: '‰∏ªÈ°µ',
      documents: 'ÊñáÊ°£',
      downloads: '‰∏ãËΩΩ',
      games: 'Ê∏∏Êàè',
      new: '+ Êñ∞Âª∫',
      notFound: 'Êâæ‰∏çÂà∞Êñá‰ª∂Â§π',
      rename: 'ÈáçÂëΩÂêç',
      delete: 'Âà†Èô§',
      open: 'ÊâìÂºÄ',
      newPrompt: 'Êñ∞Êñá‰ª∂/Êñá‰ª∂Â§πÂêçÁß∞:\n(Âú®Êú´Â∞æÊ∑ªÂä†/Ë°®Á§∫Êñá‰ª∂Â§π)',
      exists: 'ÈîôËØØÔºöÂ∑≤Â≠òÂú®',
      deleteConfirm: 'Âà†Èô§',
      renamePrompt: 'Êñ∞ÂêçÁß∞Ôºö'
    },
    terminal: {
      version: 'PhoenixOSÁªàÁ´Ø v3.0',
      help: 'ËæìÂÖ• \'help\' Êü•ÁúãÂèØÁî®ÂëΩ‰ª§',
      helpMsg: 'ÂëΩ‰ª§Ôºöls, cd, pwd, mkdir, touch, rm, cat, clear, echo, help',
      notFound: 'Êâæ‰∏çÂà∞ÁõÆÂΩï',
      usage: 'Áî®Ê≥ïÔºö',
      created: 'Â∑≤ÂàõÂª∫',
      deleted: 'Â∑≤Âà†Èô§',
      cmdNotFound: 'Êâæ‰∏çÂà∞ÂëΩ‰ª§Ôºö',
      fileNotFound: 'Êâæ‰∏çÂà∞Êñá‰ª∂',
      folderExists: 'Êñá‰ª∂Â§πÂ∑≤Â≠òÂú®',
      fileExists: 'Êñá‰ª∂Â∑≤Â≠òÂú®'
    },
    browser: {
      urlPlaceholder: 'ËæìÂÖ•ÁΩëÂùÄ...'
    },
    editor: {
      save: 'üíæ ‰øùÂ≠ò',
      open: 'üìÇ ÊâìÂºÄ',
      new: 'üìÑ Êñ∞Âª∫',
      untitled: 'Êú™ÂëΩÂêç.txt',
      startTyping: 'ÂºÄÂßãËæìÂÖ•...',
      savePrompt: 'Êñá‰ª∂ÂêçÔºö',
      saved: 'Êñá‰ª∂Â∑≤‰øùÂ≠òÔºÅ',
      noFiles: 'Ê≠§Êñá‰ª∂Â§π‰∏≠Ê≤°ÊúâÊñá‰ª∂',
      readError: 'ËØªÂèñÈîôËØØ'
    },
    games: {
      snake: 'Ë¥™ÂêÉËõá',
      tictactoe: '‰∫ïÂ≠óÊ£ã',
      memory: 'ËÆ∞ÂøÜ',
      pong: '‰πí‰πì',
      loading: 'Âä†ËΩΩ‰∏≠...',
      restart: 'üîÑ ÈáçÊñ∞ÂºÄÂßã',
      back: '‚¨ÖÔ∏è ËøîÂõû',
      snakeScore: 'ÂæóÂàÜÔºö',
      snakeControls: '| ÊñπÂêëÈîÆÊéßÂà∂',
      snakeGameOver: 'Ê∏∏ÊàèÁªìÊùüÔºÅÂæóÂàÜÔºö',
      tictactoePlayer: 'Áé©ÂÆ∂',
      tictactoeDraw: 'Âπ≥Â±ÄÔºÅ',
      tictactoeWins: 'Ëé∑ËÉúÔºÅ',
      memoryInstructions: 'ÊâæÂà∞ÊâÄÊúâÈÖçÂØπÔºÅ',
      memoryWin: 'ÊÅ≠ÂñúÔºÅ‰Ω†Ëµ¢‰∫ÜÔºÅ',
      pongInstructions: 'ÂÖàÂæó5ÂàÜËÄÖËé∑ËÉúÔºÅ',
      pongAI: 'AIÔºö',
      pongYou: '‰Ω†Ôºö',
      pongWin: '- ‰Ω†Ëµ¢‰∫ÜÔºÅ',
      pongLose: '- AIËé∑ËÉúÔºÅ'
    },
    help: {
      title: 'PhoenixOSÂ∏ÆÂä©‰∏≠ÂøÉ',
      search: 'ÊêúÁ¥¢Â∏ÆÂä©...',
      quickStart: 'Âø´ÈÄüÂÖ•Èó®',
      quickStartDesc: 'PhoenixOSÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂü∫‰∫éWebÁöÑÊìç‰ΩúÁ≥ªÁªü„ÄÇ‰ª•‰∏ãÊòØÂÖ•Èó®ÊåáÂçóÔºö',
      features: '‰∏ªË¶ÅÂäüËÉΩ',
      explorer: 'Êñá‰ª∂ËµÑÊ∫êÁÆ°ÁêÜÂô®',
      explorerDesc: '‰ΩøÁî®ÂõæÂΩ¢ÁïåÈù¢ÁÆ°ÁêÜÊñá‰ª∂ÂíåÊñá‰ª∂Â§π„ÄÇ',
      explorerFeatures: ['ÂàõÂª∫Êñá‰ª∂ÂíåÊñá‰ª∂Â§π', 'ÈáçÂëΩÂêçÂíåÂà†Èô§È°πÁõÆ', 'ÊµèËßàÁõÆÂΩï', 'Âè≥ÈîÆÂçïÂáªÊü•Áúã‰∏ä‰∏ãÊñáËèúÂçï'],
      terminal: 'ÁªàÁ´Ø',
      terminalDesc: '‰ΩøÁî®UnixÂëΩ‰ª§‰∏éÊñá‰ª∂Á≥ªÁªü‰∫§‰∫í„ÄÇ',
      terminalCommands: ['ls - ÂàóÂá∫Êñá‰ª∂', 'cd - Êõ¥ÊîπÁõÆÂΩï', 'mkdir - ÂàõÂª∫Êñá‰ª∂Â§π', 'touch - ÂàõÂª∫Êñá‰ª∂', 'rm - Âà†Èô§', 'cat - ËØªÂèñÊñá‰ª∂', 'pwd - ÂΩìÂâçË∑ØÂæÑ', 'clear - Ê∏ÖÈô§Â±èÂπï'],
      browser: 'ÊµèËßàÂô®',
      browserDesc: 'Âü∫‰∫éiframeÁöÑÂÆâÂÖ®ÊµèËßàÂô®ÔºåÁî®‰∫éËÆøÈóÆÁΩëÈ°µ„ÄÇ',
      browserFeatures: ['ÂØºËà™Âà∞‰ªª‰ΩïURL', 'ÂâçËøõ/ÂêéÈÄÄÂØºËà™', 'Âà∑Êñ∞È°µÈù¢', 'Ê≤ôÁÆ±‰øùÊä§'],
      games: 'Ê∏∏Êàè',
      gamesDesc: 'ÂõõÊ¨æÈõÜÊàêÊ∏∏ÊàèÔºö',
      gamesList: ['Ë¥™ÂêÉËõá - ÁªèÂÖ∏Ê∏∏Êàè', '‰∫ïÂ≠óÊ£ã - Âèå‰∫∫Á≠ñÁï•', 'ËÆ∞ÂøÜ - ÊâæÈÖçÂØπ', '‰πí‰πì - AIÂØπÊâã'],
      editor: 'ÊñáÊú¨ÁºñËæëÂô®',
      editorDesc: 'ÂàõÂª∫ÂíåÁºñËæëÊñáÊú¨Êñá‰ª∂„ÄÇ',
      editorFeatures: ['‰øùÂ≠òÂà∞Êñá‰ª∂Á≥ªÁªü', 'ÊâìÂºÄÁé∞ÊúâÊñá‰ª∂', 'ÁÆÄÂçïËΩª‰æø'],
      shortcuts: 'ÈîÆÁõòÂø´Êç∑ÈîÆ',
      shortcutsList: ['F1 - ÊâìÂºÄÂ∏ÆÂä©', 'ÊñπÂêëÈîÆ - ÂØºËà™ÔºàÊ∏∏Êàè‰∏≠Ôºâ', 'ÂõûËΩ¶ - ÊâßË°åÔºàÁªàÁ´Ø‰∏≠Ôºâ'],
      language: 'ËØ≠Ë®ÄÈÄâÊã©',
      languageDesc: 'PhoenixOSÊîØÊåÅ5ÁßçËØ≠Ë®ÄÔºöEnglish„ÄÅFran√ßais„ÄÅItaliano„ÄÅEspa√±ol„ÄÅ‰∏≠Êñá„ÄÇÁÇπÂáª‰ªªÂä°Ê†è‰∏≠ÁöÑËØ≠Ë®ÄÈÄâÊã©Âô®ÂàáÊç¢„ÄÇ',
      windowManagement: 'Á™óÂè£ÁÆ°ÁêÜ',
      windowDesc: 'ÊãñÂä®Á™óÂè£ÁßªÂä®Ôºå‰ΩøÁî®ÊåâÈíÆÊúÄÂ∞èÂåñ/ÊúÄÂ§ßÂåñ/ÂÖ≥Èó≠„ÄÇ',
      tips: 'ÊèêÁ§∫',
      tip1: 'ÊâÄÊúâÊï∞ÊçÆÈÉΩÂ≠òÂÇ®Âú®ÊµèËßàÂô®Êú¨Âú∞',
      tip2: 'ÈöèÊó∂ÊåâF1ÊâìÂºÄÂ∏ÆÂä©',
      tip3: 'Âè≥ÈîÆÂçïÂáªÊñá‰ª∂Êü•ÁúãÊõ¥Â§öÈÄâÈ°π',
      tip4: 'Êñá‰ª∂Á≥ªÁªüÂú®‰ºöËØù‰πãÈó¥ÊåÅ‰πÖ‰øùÂ≠ò'
    }
  }
};

let currentLang = 'en';
const langFlags = {en:'üá¨üáß',fr:'üá´üá∑',it:'üáÆüáπ',es:'üá™üá∏',zh:'üá®üá≥'};
const langCodes = {en:'EN',fr:'FR',it:'IT',es:'ES',zh:'‰∏≠Êñá'};

function detectLanguage() {
  const saved = localStorage.getItem('phoenixLang');
  if (saved && translations[saved]) return saved;

  const browserLang = navigator.language.toLowerCase();
  if (browserLang.startsWith('en')) return 'en';
  if (browserLang.startsWith('fr')) return 'fr';
  if (browserLang.startsWith('it')) return 'it';
  if (browserLang.startsWith('es')) return 'es';
  if (browserLang.startsWith('zh')) return 'zh';
  return 'en';
}

function t(key) {
  const keys = key.split('.');
  let value = translations[currentLang];
  for (const k of keys) {
    if (value && value[k]) value = value[k];
    else return key;
  }
  return value;
}

function setLanguage(lang) {
  currentLang = lang;
  localStorage.setItem('phoenixLang', lang);
  document.documentElement.lang = lang;
  document.getElementById('currentLangFlag').textContent = langFlags[lang];
  document.getElementById('currentLangCode').textContent = langCodes[lang];

  document.querySelectorAll('.lang-item').forEach(item => {
    item.classList.toggle('active', item.onclick.toString().includes(`'${lang}'`));
  });

  updateAllText();
  toggleLangMenu();
}

function toggleLangMenu() {
  const menu = document.getElementById('langMenu');
  menu.classList.toggle('show');
  if (menu.classList.contains('show')) {
    setTimeout(() => document.addEventListener('click', () => menu.classList.remove('show'), {once:true}), 10);
  }
}

function updateAllText() {
  // Desktop icons
  renderDesktopIcons();

  // Window titles
  document.getElementById('explorerTitle').textContent = 'üìÅ ' + t('window.fileExplorer');
  document.getElementById('terminalTitle').textContent = '‚å®Ô∏è ' + t('window.terminal');
  document.getElementById('browserTitle').textContent = 'üåê ' + t('window.browser');
  document.getElementById('gamesTitle').textContent = 'üéÆ ' + t('window.games');
  document.getElementById('editorTitle').textContent = 'üìù ' + t('window.editor');

  // Explorer
  renderExplorerSidebar();
  document.getElementById('newBtn').textContent = t('explorer.new');
  if (document.getElementById('explorerContent').children.length > 0) renderExplorer();

  // Browser
  document.getElementById('browserUrl').placeholder = t('browser.urlPlaceholder');

  // Editor
  document.getElementById('saveBtn').textContent = t('editor.save');
  document.getElementById('openBtn').textContent = t('editor.open');
  document.getElementById('newFileBtn').textContent = t('editor.new');
  document.getElementById('editorContent').placeholder = t('editor.startTyping');
  if (!currentFile) document.getElementById('editorFilename').textContent = t('editor.untitled');

  // Games
  if (currentGame === null) renderGamesGrid();

  // Help
  document.getElementById('helpTitle').textContent = '‚ùì ' + t('help.title');
  if (document.getElementById('helpContent').children.length > 0) renderHelpContent();
}

function renderDesktopIcons() {
  document.getElementById('desktopIcons').innerHTML = `
    <div class="icon" onclick="openWindow('explorer')">
      <div class="icon-img">üìÅ</div>
      <div class="icon-label">${t('desktop.explorer')}</div>
    </div>
    <div class="icon" onclick="openWindow('terminal')">
      <div class="icon-img">‚å®Ô∏è</div>
      <div class="icon-label">${t('desktop.terminal')}</div>
    </div>
    <div class="icon" onclick="openWindow('browser')">
      <div class="icon-img">üåê</div>
      <div class="icon-label">${t('desktop.browser')}</div>
    </div>
    <div class="icon" onclick="openWindow('games')">
      <div class="icon-img">üéÆ</div>
      <div class="icon-label">${t('desktop.games')}</div>
    </div>
    <div class="icon" onclick="openWindow('editor')">
      <div class="icon-img">üìù</div>
      <div class="icon-label">${t('desktop.editor')}</div>
    </div>
  `;
}

function renderExplorerSidebar() {
  document.getElementById('explorerSidebar').innerHTML = `
    <div style="margin-bottom:1rem"><strong>${t('explorer.favorites')}</strong></div>
    <div style="cursor:pointer;padding:0.5rem;border-radius:4px;margin:0.3rem 0" onclick="navigateTo('/home')">üè† ${t('explorer.home')}</div>
    <div style="cursor:pointer;padding:0.5rem;border-radius:4px;margin:0.3rem 0" onclick="navigateTo('/home/documents')">üìÑ ${t('explorer.documents')}</div>
    <div style="cursor:pointer;padding:0.5rem;border-radius:4px;margin:0.3rem 0" onclick="navigateTo('/home/downloads')">‚¨áÔ∏è ${t('explorer.downloads')}</div>
    <div style="cursor:pointer;padding:0.5rem;border-radius:4px;margin:0.3rem 0" onclick="navigateTo('/home/games')">üéÆ ${t('explorer.games')}</div>
  `;
}

function renderGamesGrid() {
  document.getElementById('gamesContent').innerHTML = `
    <div class="games-grid">
      <div class="game-card" onclick="playGame('snake')">
        <div class="game-icon">üêç</div>
        <div class="game-name">${t('games.snake')}</div>
      </div>
      <div class="game-card" onclick="playGame('tictactoe')">
        <div class="game-icon">‚≠ï</div>
        <div class="game-name">${t('games.tictactoe')}</div>
      </div>
      <div class="game-card" onclick="playGame('memory')">
        <div class="game-icon">üß†</div>
        <div class="game-name">${t('games.memory')}</div>
      </div>
      <div class="game-card" onclick="playGame('pong')">
        <div class="game-icon">üèì</div>
        <div class="game-name">${t('games.pong')}</div>
      </div>
    </div>
  `;
}

// ===== FILE SYSTEM =====
class FileSystem{constructor(){this.load()}load(){const saved=localStorage.getItem('phoenixFS');this.fs=saved?JSON.parse(saved):{'/':{'home':{'documents':{},'downloads':{},'games':{}},'bin':{},'etc':{}}}}save(){localStorage.setItem('phoenixFS',JSON.stringify(this.fs))}
getNode(path){const parts=path.split('/').filter(p=>p);let node=this.fs['/'];for(const part of parts){if(!node[part])return null;node=node[part]}return node}
createFolder(path,name){const node=this.getNode(path);if(!node||node[name])return false;node[name]={};this.save();return true}
createFile(path,name,content=''){const node=this.getNode(path);if(!node||node[name])return false;node[name]={_file:true,content};this.save();return true}
delete(path,name){const node=this.getNode(path);if(!node||!node[name])return false;delete node[name];this.save();return true}
rename(path,oldName,newName){const node=this.getNode(path);if(!node||!node[oldName]||node[newName])return false;node[newName]=node[oldName];delete node[oldName];this.save();return true}
move(fromPath,name,toPath){const fromNode=this.getNode(fromPath);const toNode=this.getNode(toPath);if(!fromNode||!fromNode[name]||!toNode)return false;toNode[name]=fromNode[name];delete fromNode[name];this.save();return true}
readFile(path,name){const node=this.getNode(path);if(!node||!node[name]||!node[name]._file)return null;return node[name].content}
writeFile(path,name,content){const node=this.getNode(path);if(!node||!node[name]||!node[name]._file)return false;node[name].content=content;this.save();return true}
list(path){const node=this.getNode(path);if(!node)return null;return Object.keys(node).filter(k=>k!=='_file').map(name=>({name,isFile:node[name]._file||false}))}}

const fs=new FileSystem();
let currentPath='/home',currentFile=null,pathHistory=['/home'],historyIndex=0;

// ===== WINDOW MANAGEMENT =====
const windows={};let draggedWindow=null,dragOffset={x:0,y:0};

function openWindow(id){const win=document.getElementById('win-'+id);if(!win)return;win.classList.add('show');win.style.zIndex=getTopZIndex();windows[id]=true;updateTaskbar();if(id==='explorer'){renderExplorer();renderExplorerSidebar()}if(id==='terminal'){initTerminal();setTimeout(()=>document.getElementById('terminalInput').focus(),100)}if(id==='games')renderGamesGrid();if(id==='help')renderHelpContent()}

function closeWindow(id){document.getElementById(id).classList.remove('show');delete windows[Object.keys(windows).find(k=>'win-'+k===id)];updateTaskbar()}

function minimizeWindow(id){closeWindow(id)}

function toggleMaximize(id){document.getElementById(id).classList.toggle('maximized')}

function getTopZIndex(){return Math.max(1000,...Array.from(document.querySelectorAll('.window')).map(w=>parseInt(w.style.zIndex)||1000))+1}

function startDrag(e,id){if(e.target.classList.contains('window-btn'))return;draggedWindow=document.getElementById(id);const rect=draggedWindow.getBoundingClientRect();dragOffset={x:e.clientX-rect.left,y:e.clientY-rect.top};draggedWindow.style.zIndex=getTopZIndex()}

document.addEventListener('mousemove',e=>{if(!draggedWindow||draggedWindow.classList.contains('maximized'))return;draggedWindow.style.left=e.clientX-dragOffset.x+'px';draggedWindow.style.top=e.clientY-dragOffset.y+'px'});

document.addEventListener('mouseup',()=>draggedWindow=null);

function updateTaskbar(){const bar=document.getElementById('taskbarApps');bar.innerHTML=Object.keys(windows).map(id=>`<button class="taskbar-btn active" onclick="focusWindow('${id}')">${getWindowTitle(id)}</button>`).join('')}

function getWindowTitle(id){const titles={explorer:'üìÅ',terminal:'‚å®Ô∏è',browser:'üåê',games:'üéÆ',editor:'üìù',help:'‚ùì'};return titles[id]||id}

function focusWindow(id){openWindow(id)}

function showStartMenu(){}

// ===== EXPLORER =====
function renderExplorer(){const content=document.getElementById('explorerContent');document.getElementById('currentPath').textContent=currentPath;const items=fs.list(currentPath);if(!items){content.innerHTML=`<div style="padding:2rem;text-align:center">${t('explorer.notFound')}</div>`;return}
content.innerHTML='';if(currentPath!=='/'){content.innerHTML='<div class="folder-item" onclick="navigateUp()"><div class="folder-icon">‚¨ÜÔ∏è</div><div class="folder-name">..</div></div>'}
items.forEach(item=>{const div=document.createElement('div');div.className=item.isFile?'file-item':'folder-item';div.onclick=()=>item.isFile?openFileInEditor(item.name):navigateTo(currentPath+'/'+item.name);div.oncontextmenu=e=>{e.preventDefault();showContextMenu(e,item.name,item.isFile)};div.innerHTML=`<div class="${item.isFile?'file-icon':'folder-icon'}">${item.isFile?'üìÑ':'üìÅ'}</div><div class="${item.isFile?'file-name':'folder-name'}">${item.name}</div>`;content.appendChild(div)})}

function navigateTo(path){path=path.replace(/\/+/g,'/').replace(/\/$/,'');if(!fs.getNode(path))return;currentPath=path;pathHistory=pathHistory.slice(0,historyIndex+1);pathHistory.push(path);historyIndex=pathHistory.length-1;renderExplorer()}

function navigateUp(){const parts=currentPath.split('/').filter(p=>p);parts.pop();navigateTo('/'+parts.join('/'))}

function navigateBack(){if(historyIndex>0){historyIndex--;currentPath=pathHistory[historyIndex];renderExplorer()}}

function navigateForward(){if(historyIndex<pathHistory.length-1){historyIndex++;currentPath=pathHistory[historyIndex];renderExplorer()}}

function showCreateMenu(){const name=prompt(t('explorer.newPrompt'));if(!name)return;if(name.endsWith('/')){if(fs.createFolder(currentPath,name.slice(0,-1)))renderExplorer();else alert(t('explorer.exists'))}else{if(fs.createFile(currentPath,name))renderExplorer();else alert(t('explorer.exists'))}}

function showContextMenu(e,name,isFile){const menu=document.getElementById('contextMenu');menu.innerHTML=`
<div class="context-item" onclick="renameItem('${name}')">‚úèÔ∏è ${t('explorer.rename')}</div>
<div class="context-item" onclick="deleteItem('${name}')">üóëÔ∏è ${t('explorer.delete')}</div>
${isFile?`<div class="context-item" onclick="openFileInEditor('${name}')">üìù ${t('explorer.open')}</div>`:''}`;menu.style.left=e.pageX+'px';menu.style.top=e.pageY+'px';menu.classList.add('show');setTimeout(()=>document.addEventListener('click',()=>menu.classList.remove('show'),{once:true}),10)}

function renameItem(oldName){const newName=prompt(t('explorer.renamePrompt'),oldName);if(newName&&fs.rename(currentPath,oldName,newName))renderExplorer()}

function deleteItem(name){if(confirm(t('explorer.deleteConfirm')+' '+name+' ?')&&fs.delete(currentPath,name))renderExplorer()}

// ===== TERMINAL =====
const terminalHistory=[];let termHistoryIndex=0;

function initTerminal(){const term=document.getElementById('terminal');term.innerHTML=`<div class="terminal-line">${t('terminal.version')}</div><div class="terminal-line">${t('terminal.help')}</div>`;addTerminalPrompt()}

function addTerminalPrompt(){const term=document.getElementById('terminal');const div=document.createElement('div');div.className='terminal-line';div.innerHTML=`<span class="terminal-prompt">user@phoenixos:${currentPath}$</span> <input type="text" class="terminal-input" id="terminalInput" onkeypress="handleTerminalInput(event)">`;term.appendChild(div);term.scrollTop=term.scrollHeight;setTimeout(()=>document.getElementById('terminalInput')?.focus(),50)}

function handleTerminalInput(e){if(e.key!=='Enter')return;const input=e.target.value.trim();if(!input)return;const line=`<span class="terminal-prompt">user@phoenixos:${currentPath}$</span> ${input}`;e.target.parentElement.innerHTML=line;executeCommand(input);terminalHistory.push(input);termHistoryIndex=terminalHistory.length}

function executeCommand(cmd){const parts=cmd.split(' ');const command=parts[0];const args=parts.slice(1);
const commands={
help:()=>addTerminalLine(t('terminal.helpMsg')),
ls:()=>{const items=fs.list(currentPath);if(!items)return addTerminalLine(t('terminal.notFound'),'error');items.forEach(i=>addTerminalLine((i.isFile?'üìÑ':'üìÅ')+' '+i.name))},
pwd:()=>addTerminalLine(currentPath),
cd:()=>{const target=args[0]||'/home';const newPath=target.startsWith('/')?target:currentPath+'/'+target;if(fs.getNode(newPath)){currentPath=newPath.replace(/\/+/g,'/');renderExplorer()}else addTerminalLine(t('terminal.notFound'),'error')},
mkdir:()=>{if(!args[0])return addTerminalLine(t('terminal.usage')+' mkdir <name>','error');if(fs.createFolder(currentPath,args[0])){addTerminalLine(t('terminal.created'),'success');renderExplorer()}else addTerminalLine(t('terminal.folderExists'),'error')},
touch:()=>{if(!args[0])return addTerminalLine(t('terminal.usage')+' touch <name>','error');if(fs.createFile(currentPath,args[0])){addTerminalLine(t('terminal.created'),'success');renderExplorer()}else addTerminalLine(t('terminal.fileExists'),'error')},
rm:()=>{if(!args[0])return addTerminalLine(t('terminal.usage')+' rm <name>','error');if(fs.delete(currentPath,args[0])){addTerminalLine(t('terminal.deleted'),'success');renderExplorer()}else addTerminalLine(t('terminal.notFound'),'error')},
cat:()=>{if(!args[0])return addTerminalLine(t('terminal.usage')+' cat <file>','error');const content=fs.readFile(currentPath,args[0]);if(content!==null)addTerminalLine(content);else addTerminalLine(t('terminal.fileNotFound'),'error')},
clear:()=>{document.getElementById('terminal').innerHTML='';return},
echo:()=>addTerminalLine(args.join(' '))
};

if(commands[command])commands[command]();else addTerminalLine(t('terminal.cmdNotFound')+' '+command,'error');
addTerminalPrompt()}

function addTerminalLine(html,type=''){const term=document.getElementById('terminal');const div=document.createElement('div');div.className='terminal-line'+(type?' terminal-'+type:'');div.innerHTML=html;term.appendChild(div);term.scrollTop=term.scrollHeight}

// ===== BROWSER =====
function browserGo(){const url=document.getElementById('browserUrl').value;if(!url)return;let finalUrl=url;if(!url.startsWith('http'))finalUrl='https://'+url;document.getElementById('browserFrame').src=finalUrl}
function browserBack(){document.getElementById('browserFrame').contentWindow.history.back()}
function browserForward(){document.getElementById('browserFrame').contentWindow.history.forward()}
function browserRefresh(){document.getElementById('browserFrame').contentWindow.location.reload()}

// ===== EDITOR =====
function newFile(){currentFile=null;document.getElementById('editorFilename').textContent=t('editor.untitled');document.getElementById('editorContent').value=''}

function saveFile(){const content=document.getElementById('editorContent').value;const filename=currentFile||prompt(t('editor.savePrompt'),t('editor.untitled'));if(!filename)return;if(fs.writeFile(currentPath,filename,content)||fs.createFile(currentPath,filename,content)){currentFile=filename;document.getElementById('editorFilename').textContent=filename;renderExplorer();alert(t('editor.saved'))}}

function openFileInEditor(name){if(!name){const items=fs.list(currentPath).filter(i=>i.isFile);if(!items.length)return alert(t('editor.noFiles'));name=items[0].name}const content=fs.readFile(currentPath,name);if(content===null)return alert(t('editor.readError'));currentFile=name;document.getElementById('editorFilename').textContent=name;document.getElementById('editorContent').value=content;openWindow('editor')}

// ===== GAMES =====
let currentGame=null,gameState={},gameLoop=null;const canvas=document.createElement('canvas');canvas.className='game-canvas';canvas.width=500;canvas.height=500;const ctx=canvas.getContext('2d');

function playGame(game){currentGame=game;const content=document.getElementById('gamesContent');content.innerHTML=`<div style="padding:2rem"><div class="game-info" id="gameInfo">${t('games.loading')}</div></div>`;content.appendChild(canvas);content.innerHTML+=`<div class="game-controls"><button class="game-btn" onclick="restartGame()">${t('games.restart')}</button><button class="game-btn" onclick="backToGames()">${t('games.back')}</button></div>`;
if(gameLoop)clearInterval(gameLoop);
const games={snake:initSnake,tictactoe:initTicTacToe,memory:initMemory,pong:initPong};if(games[game])games[game]()}

function backToGames(){if(gameLoop)clearInterval(gameLoop);canvas.onclick=null;document.onkeydown=null;currentGame=null;renderGamesGrid()}

function restartGame(){if(currentGame)playGame(currentGame)}

// SNAKE
function initSnake(){gameState={snake:[{x:10,y:10}],dir:{x:1,y:0},food:{x:15,y:15},score:0};document.getElementById('gameInfo').textContent=t('games.snakeScore')+' 0 '+t('games.snakeControls');document.onkeydown=e=>{const key=e.key;if(key==='ArrowUp'&&gameState.dir.y===0)gameState.dir={x:0,y:-1};else if(key==='ArrowDown'&&gameState.dir.y===0)gameState.dir={x:0,y:1};else if(key==='ArrowLeft'&&gameState.dir.x===0)gameState.dir={x:-1,y:0};else if(key==='ArrowRight'&&gameState.dir.x===0)gameState.dir={x:1,y:0}};
gameLoop=setInterval(()=>{const head={x:gameState.snake[0].x+gameState.dir.x,y:gameState.snake[0].y+gameState.dir.y};if(head.x<0||head.x>=25||head.y<0||head.y>=25||gameState.snake.some(s=>s.x===head.x&&s.y===head.y)){clearInterval(gameLoop);document.getElementById('gameInfo').textContent=t('games.snakeGameOver')+' '+gameState.score;return}
gameState.snake.unshift(head);if(head.x===gameState.food.x&&head.y===gameState.food.y){gameState.score++;gameState.food={x:Math.floor(Math.random()*25),y:Math.floor(Math.random()*25)};document.getElementById('gameInfo').textContent=t('games.snakeScore')+' '+gameState.score+' '+t('games.snakeControls')}else gameState.snake.pop();
ctx.fillStyle='#000';ctx.fillRect(0,0,500,500);ctx.fillStyle='#0f0';gameState.snake.forEach(s=>ctx.fillRect(s.x*20,s.y*20,18,18));ctx.fillStyle='#f00';ctx.fillRect(gameState.food.x*20,gameState.food.y*20,18,18)},120)}

// TIC TAC TOE
function initTicTacToe(){gameState={board:Array(9).fill(null),player:'X',gameOver:false};document.getElementById('gameInfo').textContent=t('games.tictactoePlayer')+' X';drawTicTacToe();canvas.onclick=e=>{if(gameState.gameOver)return;const rect=canvas.getBoundingClientRect();const x=Math.floor((e.clientX-rect.left)/(canvas.width/3));const y=Math.floor((e.clientY-rect.top)/(canvas.height/3));const idx=y*3+x;if(gameState.board[idx])return;gameState.board[idx]=gameState.player;drawTicTacToe();const winner=checkWinner();if(winner){document.getElementById('gameInfo').textContent=winner==='√âgalit√©'||winner==='Draw'?t('games.tictactoeDraw'):t('games.tictactoePlayer')+' '+winner+' '+t('games.tictactoeWins');gameState.gameOver=true}else{gameState.player=gameState.player==='X'?'O':'X';document.getElementById('gameInfo').textContent=t('games.tictactoePlayer')+' '+gameState.player}}}

function drawTicTacToe(){ctx.fillStyle='#000';ctx.fillRect(0,0,500,500);ctx.strokeStyle='#fff';ctx.lineWidth=3;for(let i=1;i<3;i++){ctx.beginPath();ctx.moveTo(i*166,0);ctx.lineTo(i*166,500);ctx.stroke();ctx.beginPath();ctx.moveTo(0,i*166);ctx.lineTo(500,i*166);ctx.stroke()}
gameState.board.forEach((cell,i)=>{if(cell){const x=(i%3)*166+83;const y=Math.floor(i/3)*166+83;ctx.font='bold 80px Arial';ctx.fillStyle=cell==='X'?'#0f0':'#f00';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(cell,x,y)}})}

function checkWinner(){const wins=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let w of wins)if(gameState.board[w[0]]&&gameState.board[w[0]]===gameState.board[w[1]]&&gameState.board[w[0]]===gameState.board[w[2]])return gameState.board[w[0]];return gameState.board.every(c=>c)?'Draw':null}

// MEMORY
function initMemory(){const symbols=['üéÆ','üéØ','üé≤','üé™','üé®','üé≠','üé¨','üé∏'];const cards=[...symbols,...symbols].sort(()=>Math.random()-.5).map((s,i)=>({symbol:s,flipped:false,matched:false,id:i}));gameState={cards,flipped:[],matches:0};document.getElementById('gameInfo').textContent=t('games.memoryInstructions');drawMemory();canvas.onclick=e=>{if(gameState.flipped.length>=2)return;const rect=canvas.getBoundingClientRect();const x=Math.floor((e.clientX-rect.left)/125);const y=Math.floor((e.clientY-rect.top)/125);const idx=y*4+x;const card=gameState.cards[idx];if(!card||card.flipped||card.matched)return;card.flipped=true;gameState.flipped.push(idx);drawMemory();if(gameState.flipped.length===2){setTimeout(()=>{const[i1,i2]=gameState.flipped;if(gameState.cards[i1].symbol===gameState.cards[i2].symbol){gameState.cards[i1].matched=true;gameState.cards[i2].matched=true;gameState.matches++;if(gameState.matches===8)document.getElementById('gameInfo').textContent=t('games.memoryWin')}else{gameState.cards[i1].flipped=false;gameState.cards[i2].flipped=false}gameState.flipped=[];drawMemory()},800)}}}

function drawMemory(){ctx.fillStyle='#000';ctx.fillRect(0,0,500,500);gameState.cards.forEach((card,i)=>{const x=(i%4)*125;const y=Math.floor(i/4)*125;ctx.fillStyle=card.matched?'rgba(0,255,0,.3)':card.flipped?'#667eea':'#444';ctx.fillRect(x+5,y+5,115,115);if(card.flipped||card.matched){ctx.font='60px Arial';ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillText(card.symbol,x+62,y+62)}})}

// PONG
function initPong(){gameState={paddle1Y:200,paddle2Y:200,ballX:250,ballY:250,ballDX:3,ballDY:3,score1:0,score2:0};document.getElementById('gameInfo').textContent=t('games.pongInstructions');let keys={};document.onkeydown=e=>keys[e.key]=true;document.onkeyup=e=>keys[e.key]=false;
gameLoop=setInterval(()=>{if(keys['ArrowUp'])gameState.paddle2Y=Math.max(0,gameState.paddle2Y-5);if(keys['ArrowDown'])gameState.paddle2Y=Math.min(420,gameState.paddle2Y+5);const paddleCenter=gameState.ballY-40;if(paddleCenter<gameState.paddle1Y)gameState.paddle1Y=Math.max(0,gameState.paddle1Y-4);if(paddleCenter>gameState.paddle1Y)gameState.paddle1Y=Math.min(420,gameState.paddle1Y+4);gameState.ballX+=gameState.ballDX;gameState.ballY+=gameState.ballDY;if(gameState.ballY<=0||gameState.ballY>=490)gameState.ballDY*=-1;if(gameState.ballX<=20&&gameState.ballY>=gameState.paddle1Y&&gameState.ballY<=gameState.paddle1Y+80){gameState.ballDX*=-1;gameState.ballDX*=1.05}if(gameState.ballX>=470&&gameState.ballY>=gameState.paddle2Y&&gameState.ballY<=gameState.paddle2Y+80){gameState.ballDX*=-1;gameState.ballDX*=1.05}if(gameState.ballX<0){gameState.score2++;resetBall()}if(gameState.ballX>500){gameState.score1++;resetBall()}document.getElementById('gameInfo').textContent=`${t('games.pongAI')} ${gameState.score1} | ${t('games.pongYou')} ${gameState.score2}`;if(gameState.score1>=5||gameState.score2>=5){clearInterval(gameLoop);document.getElementById('gameInfo').textContent+=(gameState.score2>=5?t('games.pongWin'):t('games.pongLose'));return}
ctx.fillStyle='#000';ctx.fillRect(0,0,500,500);ctx.fillStyle='#fff';ctx.fillRect(10,gameState.paddle1Y,10,80);ctx.fillRect(480,gameState.paddle2Y,10,80);ctx.fillRect(gameState.ballX,gameState.ballY,10,10);ctx.setLineDash([10,10]);ctx.beginPath();ctx.moveTo(250,0);ctx.lineTo(250,500);ctx.strokeStyle='rgba(255,255,255,.3)';ctx.stroke();ctx.setLineDash([])},16)}

function resetBall(){gameState.ballX=250;gameState.ballY=250;gameState.ballDX=3*(Math.random()>.5?1:-1);gameState.ballDY=3*(Math.random()>.5?1:-1)}

// ===== HELP SYSTEM =====
function renderHelpContent(){const content=document.getElementById('helpContent');const h=t('help');content.innerHTML=`
<h2>${h.title}</h2>
<input type="text" class="help-search" placeholder="${h.search}" oninput="filterHelp(this.value)">
<div id="helpSections">
<div class="help-section">
<h3>${h.quickStart}</h3>
<p>${h.quickStartDesc}</p>
</div>
<div class="help-section">
<h3>${h.features}</h3>
<h4>üìÅ ${h.explorer}</h4>
<p>${h.explorerDesc}</p>
<ul class="help-list">
${h.explorerFeatures.map(f=>`<li>${f}</li>`).join('')}
</ul>
<h4>‚å®Ô∏è ${h.terminal}</h4>
<p>${h.terminalDesc}</p>
<ul class="help-list">
${h.terminalCommands.map(c=>`<li><span class="help-kbd">${c.split(' - ')[0]}</span> - ${c.split(' - ')[1]}</li>`).join('')}
</ul>
<h4>üåê ${h.browser}</h4>
<p>${h.browserDesc}</p>
<ul class="help-list">
${h.browserFeatures.map(f=>`<li>${f}</li>`).join('')}
</ul>
<h4>üéÆ ${h.games}</h4>
<p>${h.gamesDesc}</p>
<ul class="help-list">
${h.gamesList.map(g=>`<li>${g}</li>`).join('')}
</ul>
<h4>üìù ${h.editor}</h4>
<p>${h.editorDesc}</p>
<ul class="help-list">
${h.editorFeatures.map(f=>`<li>${f}</li>`).join('')}
</ul>
</div>
<div class="help-section">
<h3>‚å®Ô∏è ${h.shortcuts}</h3>
<ul class="help-list">
${h.shortcutsList.map(s=>`<li><span class="help-kbd">${s.split(' - ')[0]}</span> - ${s.split(' - ')[1]}</li>`).join('')}
</ul>
</div>
<div class="help-section">
<h3>üåç ${h.language}</h3>
<p>${h.languageDesc}</p>
</div>
<div class="help-section">
<h3>ü™ü ${h.windowManagement}</h3>
<p>${h.windowDesc}</p>
</div>
<div class="help-section">
<h3>üí° ${h.tips}</h3>
<ul class="help-list">
<li>${h.tip1}</li>
<li>${h.tip2}</li>
<li>${h.tip3}</li>
<li>${h.tip4}</li>
</ul>
</div>
</div>
`}

function filterHelp(query){const sections=document.querySelectorAll('#helpSections .help-section');const q=query.toLowerCase();sections.forEach(section=>{const text=section.textContent.toLowerCase();section.style.display=text.includes(q)?'block':'none'})}

// ===== SYSTEM =====
function updateClock(){const now=new Date();document.getElementById('clock').textContent=now.toLocaleTimeString(currentLang,{hour:'2-digit',minute:'2-digit'})}

function shutdown(){document.getElementById('desktop').classList.remove('show');setTimeout(()=>{const boot=document.getElementById('boot');boot.classList.remove('hide');boot.innerHTML=`<div class="boot-line">${t('boot.shutdown')}</div><div class="boot-line">${t('boot.stopping')}</div><div class="boot-line">${t('boot.unmounting')}</div><div class="boot-line">${t('boot.goodbye')}</div>`;setTimeout(()=>location.reload(),3000)},500)}

// ===== BOOT =====
window.onload=()=>{
currentLang=detectLanguage();
document.documentElement.lang=currentLang;
document.getElementById('currentLangFlag').textContent=langFlags[currentLang];
document.getElementById('currentLangCode').textContent=langCodes[currentLang];

const boot=document.getElementById('boot');
boot.innerHTML=`<div class="boot-line">${t('boot.booting')}</div><div class="boot-line">${t('boot.kernel')}</div><div class="boot-line">${t('boot.filesystem')}</div><div class="boot-line">${t('boot.drivers')}</div><div class="boot-line">${t('boot.disks')}</div><div class="boot-line">${t('boot.network')}</div><div class="boot-line">${t('boot.desktop')}</div><div class="boot-line">${t('boot.ready')}</div>`;

const bootLines=document.querySelectorAll('.boot-line');
bootLines.forEach((line,i)=>setTimeout(()=>line.style.animation='fadeIn .2s',i*400));
setTimeout(()=>{
boot.classList.add('hide');
setTimeout(()=>{
document.getElementById('desktop').classList.add('show');
renderDesktopIcons();
updateClock();
setInterval(updateClock,1000);

// F1 key support for help
document.addEventListener('keydown',(e)=>{
if(e.key==='F1'){
e.preventDefault();
openWindow('help')
}
})
},500)
},3500)
}
</script>
</body>
</html>
